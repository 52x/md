---
title: 指针类型不兼容
date: 2016-10-12 13:48:27
tags: [c/c++,指针]
categories: C/C++
subtitle: 不同类型的指针不可以赋值。否则赋值后，编译可以通过，但是执行后数据会变量错误数据。
---

### 类型不兼容
不同类型的指针不可以赋值。否则赋值后，编译可以通过，但是执行后数据会变量错误数据。
```c
int a = 32138;
int *p = &a;		//合法
char *p1 = p;		//合法，但是问题就在这里
printf("%d,%d", *p, *p1);
printf("\n%d,%d", sizeof(*p), sizeof(*p1));
```
指针都是4个字节存，这个没问题，问题在取，取的时候根据什么类型，就会读多大的长度，如果是 int * 则会读4个字节，如果是 char *类型，则只会读一个字节，数据错误。

在 vs 上重现不出来，vs 直接报 类型不兼容。
